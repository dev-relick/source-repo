{ "id": "chatcmpl-8KRQBXntc0pDjACp66HHAgCe8k4al", "object": "chat.completion", "created": 1699882659, "model": "gpt-4-1106-preview", "choices": [ { "index": 0, "message": { "role": "assistant", "content": "```javascript\n// Require the necessary package\nconst express = require('express');\nconst multer = require('multer');\nconst fs = require('fs');\nconst path = require('path');\n\n// Initialize the express app\nconst app = express();\nconst port = 3000;\n\n// Configure storage for multer\nconst storage = multer.diskStorage({\n destination: (req, file, cb) => {\n cb(null, 'uploads/')\n },\n filename: (req, file, cb) => {\n cb(null, file.fieldname + '-' + Date.now() + path.extname(file.originalname))\n }\n});\n\n// Initialize upload with the storage settings\nconst upload = multer({ storage: storage });\n\n// Serve static files from the public folder\napp.use(express.static('public'));\n\n// Handle file upload via POST request\napp.post('/upload', upload.single('myfile'), (req, res) => {\n res.send('File uploaded successfully!');\n});\n\n// Start the server\napp.listen(port, () => console.log(`Server started on port ${port}`));\n```\n\n*Note: This code requires a directory named 'uploads' in the root of your project and a 'public' directory with the HTML form for file uploading. The 'express' and 'multer' packages should already be installed in the node project." }, "finish_reason": "stop" } ], "usage": { "prompt_tokens": 72, "completion_tokens": 268, "total_tokens": 340 }, "system_fingerprint": "fp_a24b4d720c" }
